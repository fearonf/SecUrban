<!-- Note ** the controller for this html page is declared here.....login-controller.js ***  -->

<!--<nav ng-controller="LoginController as vm" class="navbar navbar-default navbar-fixed-top" ng-init="vm.init()"> -->

    <nav ng-controller="LoginController as vm" class="ui top fixed menu" ng-init="vm.init()">

    <div class="ui fixed inverted menu">
        <div class="ui container">
            <a href="#" class="header item">
                <img class="ui mini spaced image" src="../../images/logo2.png">
                Secur
            </a>

            <a ng-class = "vm.isActiveTab('')" class="active item" href="#/">Home</a>
            <a ng-if="vm.isLoggedIn()" class = "item" ng-class = "vm.isActiveTab('profile')" href="#!/profile" >
                Profile
            </a>
            <a ng-if="vm.isLoggedIn()"  class="item" ng-class = "vm.isActiveTab('register')" href="#!/register" >
                Register
            </a>
            <a class="item"  ng-if ="vm.isLoggedIn && vm.loggedInUser == 'admin@gmail.com'" href="#!/admin" >
                Admin
            </a>
            <div ng-if="vm.isLoggedIn()" class="ui simple dropdown item">
                Assessements <i class="dropdown icon" ></i>
                <div class="menu">
                    <a class="item" ng-class = "vm.isActiveTab('sessions')"href="#!/sessions">All Assessements</a>
                    <a class="item" href="#">New Assessement</a>
                    <div class="divider"></div>
                    <div class="header">Header Item</div>
                    <div class="item">
                        <i class="dropdown icon"></i>
                        Sub Menu
                        <div class="menu">
                            <a class="item" href="#!/sessions">All Sessions</a>
                            <a class="item" href="#">Home</a>
                        </div>
                    </div>
                    <a class="item" href="#">Link Item</a>
                </div>
            </div>
        </div>
        <div class="right menu">

        <!--    <form ng-if="!vm.isLoggedIn()" ng-submit="vm.login()" >
            <div class="ui input" ng-class="{'has-error':vm.error}" >
                <input type="text" placeholder="Username..." ng-model="vm.username">
            </div>
            <div class="ui input"  >
                <input type="password" placeholder="Password..." ng-model = "vm.password">
            </div>
            <button class=" primary ui button"  type = "submit">OLD LOGIN BUTTON</button>

            </form>
            -->

            <button ng-if="!vm.isLoggedIn()" class="small black ui button" id ="Login" onclick="Login()">Login</button>

                 <button ng-if="vm.isLoggedIn()"  class="  small black ui button"  ng-if = "vm.isLoggedIn()" ng-click="vm.logout()">Logout</button>

        </div>
    </div>


<div class="ui modal">
    <i class="close icon"></i>
    <div class="header">
        Login Form
    </div>
    <div class = content">
        <div class="ui middle aligned center aligned grid">
            <div class="column">
                <h2 class="ui teal image header">
                    <img src="../../images/logo2.png" class="image">
                    <div class="content">
                        Log-in to your account
                    </div>
                </h2>
                <form class="ui form" ng-submit="vm.login()" >
                    <div class="ui stacked segment">
                        <div class="field">
                            <div class="ui left icon input">
                                <i class="user icon"></i>
                                <input type="text" name="email" placeholder="E-mail address"ng-model="vm.username" >
                            </div>
                        </div>
                        <div class="field">
                            <div class="ui left icon input">
                                <i class="lock icon"></i>
                                <input type="password" name="password" placeholder="Password" ng-model="vm.password">
                            </div>
                        </div>
                        <button class="ui   fluid large teal  button"    >Login using button</button>

                    </div>

                    <div class="ui error message"></div>

                </form>

                <div class="ui message">
                    New to us? <a href="#!/register">Sign Up</a>
                </div>
                <div ng-if="vm.error" class="ui warning message">
                    <i class="close icon"></i>
                    <div class="header">
                        {{vm.error}}
                    </div>

                </div>
            </div>
        </div>
    </div>
    <div class="actions">

      <!--  <div class="ui input" ng-class="{'has-error':vm.error}" >
            <input type="text" placeholder="Username..." ng-model="vm.username">
        </div>
        <div class="ui input"  >
            <input type="password" placeholder="Password..." ng-model = "vm.password">
        </div>  -->
        <div class="ui positive right labeled icon button" ng-click="vm.login()" >
            Login using 'positive, modal'

        </div>
    </div>
</div>
</nav>



<script>
    function Login() {
        $('.ui.modal')
            .modal({
                onApprove: function () {   //this is only called when use the 'ui positive' or 'ui ok' option in the button
                    alert("Form wil be posted");
                    return false;

                }
            }).modal('show');
    }





</script>
<script>
    function CloseM() {
        $('.ui.modal')
            .modal('hide');

    }


</script>



<script>
    $('.ui.form')
        .form({
            on:blur,
            inline: 'true',
                onSuccess: function()
                {
                    alert("valid form");



                },
                onSubmit: function()
                {
                    alert("submitted form");
                },

            fields: {

                email: {

                    rules: [{
                        type: 'empty',
                        prompt: 'Please enter your email'
                    }, {
                        type: 'email',
                        prompt: 'Please enter a valid email'
                    }]
                },
                password: {

                    rules: [{
                        type: 'empty',
                        prompt: 'Please enter a password'
                    }, {
                        type: 'length[6]',
                        prompt: 'Password needs to be atleast 6 characters long'
                    }]
                }

            }
        })




</script>














